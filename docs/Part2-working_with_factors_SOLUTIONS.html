<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Ted Laderas" />


<title>Part 2 - Working with Factors SOLUTIONS</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Part2-working_with_factors_SOLUTIONS.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Cascadia R 2018 - Data Viz workshop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Part1-ggplot2_intro.html">Part 1</a>
</li>
<li>
  <a href="Part1-ggplot2_intro_SOLUTIONS.html">Part 1 Solutions</a>
</li>
<li>
  <a href="Part2-working_with_factors.html">Part 2</a>
</li>
<li>
  <a href="Part2-working_with_factors_SOLUTIONS.html">Part 2 Solutions</a>
</li>
<li>
  <a href="Part3-interactive_plots.html">Part 3</a>
</li>
<li>
  <a href="Part3-interactive_plots_SOLUTIONS.html">Part 3 Solutions</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Part 2 - Working with Factors SOLUTIONS</h1>
<h4 class="author"><em>Ted Laderas</em></h4>
<h4 class="date"><em>5/18/2017</em></h4>

</div>


<p>In this section, we’ll learn some skills about manipulating factor (categorical) data.</p>
<p>We’ll do this by making a bar plot progressively making it more complex. We’ll then dive into boxplots, a way to view the distribution of a variable across the categories of a different variable.</p>
<div id="reviewing-factors" class="section level2">
<h2>Reviewing Factors</h2>
<p>Factors are frequently how R represents categorical data.</p>
<p>There are two kinds of factors:</p>
<ul>
<li><code>factor</code> - used for <em>nominal</em> data (“Ducks”, “Cats”, “Dogs”)`</li>
<li><code>ordered</code>- used for <em>ordinal</em> data (“10-30”,“31-40”,“41-60”)</li>
</ul>
<p>We’ll manipulate our barplot and add more information using factors.</p>
<p>Here’s the simple dataset we’ll use to investigate how to work with factors in <code>ggplot</code>. Here we also introduce how to read in data stored in an R data file (an RDS) into a data frame in R. Note the similarities with reading in CSV files (<code>read_rds()</code> versus <code>read_csv()</code>.)</p>
<p>We display the <code>pets</code> data frame by simply running the line containing <code>pets</code>.</p>
<pre class="r"><code>library(tidyverse)
pets &lt;- read_rds(&quot;data/pets.rds&quot;)
pets</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["name"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["weight"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["animal"],"name":[4],"type":["fctr"],"align":["left"]},{"label":["age_category"],"name":[5],"type":["ord"],"align":["right"]},{"label":["shots_current"],"name":[6],"type":["fctr"],"align":["left"]}],"data":[{"1":"C1","2":"Morris","3":"6.0","4":"cat","5":"0-2","6":"No"},{"1":"C2","2":"Morris","3":"7.0","4":"cat","5":"5-8","6":"Yes"},{"1":"D1","2":"Fido","3":"15.0","4":"dog","5":"5-8","6":"No"},{"1":"D4","2":"Mr Bowser","3":"20.0","4":"dog","5":"3-4","6":"No"},{"1":"D8","2":"Fido","3":"40.0","4":"dog","5":"3-4","6":"Yes"},{"1":"C4","2":"Lady Sheba","3":"10.0","4":"cat","5":"5-8","6":"No"},{"1":"D5","2":"Hubert","3":"60.0","4":"dog","5":"0-2","6":"No"},{"1":"C10","2":"Apples","3":"17.0","4":"cat","5":"5-8","6":"Yes"},{"1":"G4","2":"Nibbles","3":"0.2","4":"gerbil","5":"0-2","6":"NA"},{"1":"C11","2":"Morris","3":"10.0","4":"cat","5":"5-8","6":"No"},{"1":"D9","2":"Winky","3":"11.0","4":"dog","5":"3-4","6":"No"},{"1":"C6","2":"Fido","3":"6.0","4":"cat","5":"5-8","6":"Yes"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>We see that <code>name</code> and <code>animal</code> are stored as <code>factor</code>s and <code>age_category</code> is stored as an ordinal <code>factor</code>. Note that <code>name</code> has three levels ordered as <code>&quot;0-2&quot;</code>, <code>&quot;3-4&quot;</code>, and <code>&quot;5-8&quot;</code>.</p>
</div>
<div id="a-basic-barplot-using-geom_bar" class="section level2">
<h2>A Basic Barplot using <code>geom_bar()</code></h2>
<p>By default, the <code>geom_bar()</code> function counts the number of values with each factor level. Note that you don’t map to a y-aesthetic here, because the y values are the counts.</p>
<p>Given this dataset, we might want to ask how many pets have the same name. What is the most popular name?</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = name)) + 
  geom_bar()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="your-task" class="section level2">
<h2>Your Task</h2>
<p>Try mapping another variable to <code>fill</code> (try both <code>weight</code> and <code>animal</code>). Are the results what you expected?</p>
<pre class="r"><code># Test out `weight` and `animal` here

# ONE SOLUTION
ggplot(data = pets, mapping = aes(x = name, fill = animal)) +
  geom_bar()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = name, fill = weight)) +
  geom_bar()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
</div>
<div id="faceting" class="section level2">
<h2>Faceting</h2>
<p>Say you have another <code>factor</code> variable and you want to stratify the plots based on that. You can do that by supplying the name of that variable as a facet. Here, we facet our barplot by <code>shots_current</code>.</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = name)) + 
  geom_bar() + 
  ## have to specify facets using notation
  facet_wrap(facets = ~ shots_current) + 
  ## we make the x axis x angled for better legibility
  theme(axis.text.x = element_text(angle = 90))</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>You might notice that there are blank spots for the categories in each facet. We can restrict the factors in each by using <code>scale = &quot;free_x&quot;</code> argument in <code>facet_wrap()</code>.</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = name)) + 
  geom_bar() + 
  ## have to specify facets using notation
  facet_wrap(facets = ~ shots_current, scale = &quot;free_x&quot;) + 
  ## we make the x axis x angled for better legibility
  theme(axis.text.x = element_text(angle = 90))</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="your-task-1" class="section level2">
<h2>Your Task</h2>
<p>How many animals named “Morris” did not receive shots?</p>
<pre class="r"><code># ONE SOLUTION
ggplot(data = pets, mapping = aes(x = name)) + 
  geom_bar() + 
  facet_wrap(facets = ~ shots_current) +
  theme(axis.text.x = element_text(angle = 90))</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>What happens when you replace the <code>scale</code> argument with <code>&quot;free_y&quot;</code>?</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = name)) + 
  geom_bar() + 
  facet_wrap(facets = ~ shots_current, scale = &quot;free_y&quot;) +
  theme(axis.text.x = element_text(angle = 90))</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div id="whats-up-with-this-in-the-facets" class="section level3">
<h3>What’s up with this <code>~</code> in the <code>facets</code>?</h3>
<p>This is known as formula notation and might make a little more sense if we explore how to create a grid of smaller plots across two different variables. Note that <code>animal</code> appears on the vertical <code>y</code> axis and <code>shots_current</code> goes on the horizontal <code>x</code> axis. This is how to read this <code>~</code> in most settings in R.</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = name)) + 
  geom_bar() + 
  facet_grid(facets = animal ~ shots_current) +
  theme(axis.text.x = element_text(angle = 90))</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
</div>
<div id="stacked-bars" class="section level2">
<h2>Stacked Bars</h2>
<p>Let’s see how many of each animal got shots. We can do this by mapping <code>shots_current</code> to <code>fill</code>. Note that we can also use <code>color</code> here to specify the highlighting color of the bars.</p>
<pre class="r"><code># We map color (the outline of the plot) to black to make it look prettier
# Note that we don&#39;t include `aes` in the `color = &quot;black&quot;` since we aren&#39;t
# mapping an aesthetic to a variable but rather just changing the setting.
ggplot(data = pets, mapping = aes(x = animal, fill = shots_current)) + 
  geom_bar(color = &quot;black&quot;)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="proportional-barchart" class="section level2">
<h2>Proportional Barchart</h2>
<p>We may only be interested in the relative proportions between the different categories. Visualizing this is useful for various 2 x 2 tests on proportions.</p>
<p>What percent of dogs did not receive shots?</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = animal, fill = shots_current)) + 
  geom_bar(position = &quot;fill&quot;, color = &quot;black&quot;)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="dodge-those-bars" class="section level2">
<h2>Dodge those bars!</h2>
<p>Instead of stacking, we can also dodge the bars (move the bars so they’re beside each other).</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = animal, fill = shots_current)) + 
  geom_bar(position = &quot;dodge&quot;, color = &quot;black&quot;)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="dodge-those-bars-1" class="section level2">
<h2>Dodge those bars!</h2>
<p>Instead of stacking, we can also dodge the bars (move the bars so they’re beside each other).</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = animal, fill = shots_current)) + 
  geom_bar(position = &quot;dodge&quot;, color = &quot;black&quot;)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="your-task-bar-charts" class="section level2">
<h2>Your Task: Bar Charts</h2>
<p>Given the <code>pets</code> <code>data.frame</code>, plot a stacked proportional barchart that shows age category by shots being current. Is the proportion of animals receiving shots the same across each age category?</p>
<p>Hints: think about what to map to <code>x</code>, and what to map to <code>fill</code>.</p>
<pre class="r"><code># ONE SOLUTION
ggplot(data = pets, mapping = aes(x = age_category, fill = shots_current)) +
  geom_bar(position = &quot;fill&quot;, color = &quot;black&quot;)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Intermediate Folks: facet this plot by <code>animal</code>.</p>
<pre class="r"><code># Intermediate: Space for your answer here.

# ONE SOLUTION
ggplot(data = pets, mapping = aes(x = age_category, fill = shots_current)) +
  geom_bar(position = &quot;fill&quot;, color = &quot;black&quot;) +
  facet_wrap(facets = ~ animal)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="boxplots" class="section level2">
<h2>Boxplots</h2>
<p>Boxplots allow us to assess distributions of a continuous variable conditioned on categorical variables.</p>
<p>What does this tell us?</p>
<pre class="r"><code>ggplot(data = pets, mapping = aes(x = shots_current, y = weight)) + 
  geom_boxplot()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
<div id="violin-plots" class="section level2">
<h2>Violin Plots</h2>
<p>Violin plots are another useful way to visualize the data. They provide a more nuanced look at the data. They’re a density plot that’s mirrored around the y-axis.</p>
<pre class="r"><code>ggplot(data = pets, 
       mapping = aes(x = age_category, y = weight, fill = age_category)) + 
  geom_violin()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="your-task-how-heavy-are-our-pets" class="section level2">
<h2>Your task: How heavy are our pets?</h2>
<p>Visualize <code>weight</code> by <code>animal</code> type as both a boxplot and a violin plot. What do you conclude? Which kind of animal weighs more on average than the other?</p>
<p>Note that the horizontal axis needs to correspond to the categorical variable and the vertical axis needs to correspond to a numeric variable.</p>
<pre class="r"><code>## Space for your answer here
# ONE SOLUTION
ggplot(data = pets, 
       mapping = aes(x = animal, y = weight)) + 
  geom_boxplot()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = pets, 
       mapping = aes(x = animal, y = weight)) + 
  geom_violin()</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
<p>Intermediate challenge: How would we plot both boxplots and a violin plot on the same graph?</p>
<pre class="r"><code>## Intermediate: Space for your answer here

# ONE SOLUTION
ggplot(data = pets, 
       mapping = aes(x = animal, y = weight)) + 
  geom_boxplot(color = &quot;blue&quot;) +
  geom_violin(alpha = 0.1)</code></pre>
<p><img src="Part2-working_with_factors_SOLUTIONS_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="what-you-learned-in-this-section" class="section level2">
<h2>What you learned in this section</h2>
<ul>
<li>Visualizing factor data</li>
<li>Simple, stacked, stacked proportional, and dodged barplots</li>
<li>Faceting a graph</li>
<li>Boxplots and violin plots</li>
</ul>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiUGFydCAyIC0gV29ya2luZyB3aXRoIEZhY3RvcnMgU09MVVRJT05TIgphdXRob3I6ICJUZWQgTGFkZXJhcyIKZGF0ZTogIjUvMTgvMjAxNyIKb3V0cHV0OiAKICBodG1sX2RvY3VtZW50OgogICAgY29kZV9kb3dubG9hZDogdHJ1ZQogICAgY29kZV9mb2xkaW5nOiBzaG93CiAgICBkZl9wcmludDogcGFnZWQKLS0tCgpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0Ka25pdHI6Om9wdHNfY2h1bmskc2V0KG1lc3NhZ2UgPSBGQUxTRSkKYGBgCgpJbiB0aGlzIHNlY3Rpb24sIHdlJ2xsIGxlYXJuIHNvbWUgc2tpbGxzIGFib3V0IG1hbmlwdWxhdGluZyBmYWN0b3IgKGNhdGVnb3JpY2FsKSBkYXRhLgoKV2UnbGwgZG8gdGhpcyBieSBtYWtpbmcgYSBiYXIgcGxvdCBwcm9ncmVzc2l2ZWx5IG1ha2luZyBpdCBtb3JlIGNvbXBsZXguIFdlJ2xsIHRoZW4gZGl2ZSBpbnRvIGJveHBsb3RzLCBhIHdheSB0byB2aWV3IHRoZSBkaXN0cmlidXRpb24gb2YgYSB2YXJpYWJsZSBhY3Jvc3MgdGhlIGNhdGVnb3JpZXMgb2YgYSBkaWZmZXJlbnQgdmFyaWFibGUuCgojIyBSZXZpZXdpbmcgRmFjdG9ycyAKCkZhY3RvcnMgYXJlIGZyZXF1ZW50bHkgaG93IFIgcmVwcmVzZW50cyBjYXRlZ29yaWNhbCBkYXRhLgoKVGhlcmUgYXJlIHR3byBraW5kcyBvZiBmYWN0b3JzOiAKCisgYGZhY3RvcmAgLSB1c2VkIGZvciAqbm9taW5hbCogZGF0YSAoIkR1Y2tzIiwgIkNhdHMiLCAiRG9ncyIpYAorIGBvcmRlcmVkYC0gdXNlZCBmb3IgKm9yZGluYWwqIGRhdGEgKCIxMC0zMCIsIjMxLTQwIiwiNDEtNjAiKQoKV2UnbGwgbWFuaXB1bGF0ZSBvdXIgYmFycGxvdCBhbmQgYWRkIG1vcmUgaW5mb3JtYXRpb24gdXNpbmcgZmFjdG9ycy4KCkhlcmUncyB0aGUgc2ltcGxlIGRhdGFzZXQgd2UnbGwgdXNlIHRvIGludmVzdGlnYXRlIGhvdyB0byB3b3JrIHdpdGggZmFjdG9ycyBpbiBgZ2dwbG90YC4gSGVyZSB3ZSBhbHNvIGludHJvZHVjZSBob3cgdG8gcmVhZCBpbiBkYXRhIHN0b3JlZCBpbiBhbiBSIGRhdGEgZmlsZSAoYW4gUkRTKSBpbnRvIGEgZGF0YSBmcmFtZSBpbiBSLiBOb3RlIHRoZSBzaW1pbGFyaXRpZXMgd2l0aCByZWFkaW5nIGluIENTViBmaWxlcyAoYHJlYWRfcmRzKClgIHZlcnN1cyBgcmVhZF9jc3YoKWAuKQoKV2UgZGlzcGxheSB0aGUgYHBldHNgIGRhdGEgZnJhbWUgYnkgc2ltcGx5IHJ1bm5pbmcgdGhlIGxpbmUgY29udGFpbmluZyBgcGV0c2AuCgpgYGB7cn0KbGlicmFyeSh0aWR5dmVyc2UpCnBldHMgPC0gcmVhZF9yZHMoImRhdGEvcGV0cy5yZHMiKQpwZXRzCmBgYAoKV2Ugc2VlIHRoYXQgYG5hbWVgIGFuZCBgYW5pbWFsYCBhcmUgc3RvcmVkIGFzIGBmYWN0b3JgcyBhbmQgYGFnZV9jYXRlZ29yeWAgaXMgc3RvcmVkIGFzIGFuIG9yZGluYWwgYGZhY3RvcmAuIE5vdGUgdGhhdCBgbmFtZWAgaGFzIHRocmVlIGxldmVscyBvcmRlcmVkIGFzIGAiMC0yImAsIGAiMy00ImAsIGFuZCBgIjUtOCJgLgoKIyMgQSBCYXNpYyBCYXJwbG90IHVzaW5nIGBnZW9tX2JhcigpYAoKQnkgZGVmYXVsdCwgdGhlIGBnZW9tX2JhcigpYCBmdW5jdGlvbiBjb3VudHMgdGhlIG51bWJlciBvZiB2YWx1ZXMgd2l0aCBlYWNoIGZhY3RvciBsZXZlbC4gTm90ZSB0aGF0IHlvdSBkb24ndCBtYXAgdG8gYSB5LWFlc3RoZXRpYyBoZXJlLCBiZWNhdXNlIHRoZSB5IHZhbHVlcyBhcmUgdGhlIGNvdW50cy4KCkdpdmVuIHRoaXMgZGF0YXNldCwgd2UgbWlnaHQgd2FudCB0byBhc2sgaG93IG1hbnkgcGV0cyBoYXZlIHRoZSBzYW1lIG5hbWUuIFdoYXQgaXMgdGhlIG1vc3QgcG9wdWxhciBuYW1lPwoKYGBge3J9CmdncGxvdChkYXRhID0gcGV0cywgbWFwcGluZyA9IGFlcyh4ID0gbmFtZSkpICsgCiAgZ2VvbV9iYXIoKQpgYGAKCiMjIFlvdXIgVGFzawoKVHJ5IG1hcHBpbmcgYW5vdGhlciB2YXJpYWJsZSB0byBgZmlsbGAgKHRyeSBib3RoIGB3ZWlnaHRgIGFuZCBgYW5pbWFsYCkuIEFyZSB0aGUgcmVzdWx0cyB3aGF0IHlvdSBleHBlY3RlZD8KCmBgYHtyfQojIFRlc3Qgb3V0IGB3ZWlnaHRgIGFuZCBgYW5pbWFsYCBoZXJlCgojIE9ORSBTT0xVVElPTgpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IG5hbWUsIGZpbGwgPSBhbmltYWwpKSArCiAgZ2VvbV9iYXIoKQoKZ2dwbG90KGRhdGEgPSBwZXRzLCBtYXBwaW5nID0gYWVzKHggPSBuYW1lLCBmaWxsID0gd2VpZ2h0KSkgKwogIGdlb21fYmFyKCkKYGBgCgoKIyMgRmFjZXRpbmcKClNheSB5b3UgaGF2ZSBhbm90aGVyIGBmYWN0b3JgIHZhcmlhYmxlIGFuZCB5b3Ugd2FudCB0byBzdHJhdGlmeSB0aGUgcGxvdHMgYmFzZWQgb24gdGhhdC4gWW91IGNhbiBkbyB0aGF0IGJ5IHN1cHBseWluZyB0aGUgbmFtZSBvZiB0aGF0IHZhcmlhYmxlIGFzIGEgZmFjZXQuIEhlcmUsIHdlIGZhY2V0IG91ciBiYXJwbG90IGJ5IGBzaG90c19jdXJyZW50YC4KCmBgYHtyfQpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IG5hbWUpKSArIAogIGdlb21fYmFyKCkgKyAKICAjIyBoYXZlIHRvIHNwZWNpZnkgZmFjZXRzIHVzaW5nIG5vdGF0aW9uCiAgZmFjZXRfd3JhcChmYWNldHMgPSB+IHNob3RzX2N1cnJlbnQpICsgCiAgIyMgd2UgbWFrZSB0aGUgeCBheGlzIHggYW5nbGVkIGZvciBiZXR0ZXIgbGVnaWJpbGl0eQogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gOTApKQpgYGAKCllvdSBtaWdodCBub3RpY2UgdGhhdCB0aGVyZSBhcmUgYmxhbmsgc3BvdHMgZm9yIHRoZSBjYXRlZ29yaWVzIGluIGVhY2ggZmFjZXQuIFdlIGNhbiByZXN0cmljdCB0aGUgZmFjdG9ycyBpbiBlYWNoIGJ5IHVzaW5nIGBzY2FsZSA9ICJmcmVlX3giYCBhcmd1bWVudCBpbiBgZmFjZXRfd3JhcCgpYC4KCmBgYHtyfQpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IG5hbWUpKSArIAogIGdlb21fYmFyKCkgKyAKICAjIyBoYXZlIHRvIHNwZWNpZnkgZmFjZXRzIHVzaW5nIG5vdGF0aW9uCiAgZmFjZXRfd3JhcChmYWNldHMgPSB+IHNob3RzX2N1cnJlbnQsIHNjYWxlID0gImZyZWVfeCIpICsgCiAgIyMgd2UgbWFrZSB0aGUgeCBheGlzIHggYW5nbGVkIGZvciBiZXR0ZXIgbGVnaWJpbGl0eQogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gOTApKQpgYGAKCgojIyBZb3VyIFRhc2sKCkhvdyBtYW55IGFuaW1hbHMgbmFtZWQgIk1vcnJpcyIgZGlkIG5vdCByZWNlaXZlIHNob3RzPwoKYGBge3J9CiMgT05FIFNPTFVUSU9OCmdncGxvdChkYXRhID0gcGV0cywgbWFwcGluZyA9IGFlcyh4ID0gbmFtZSkpICsgCiAgZ2VvbV9iYXIoKSArIAogIGZhY2V0X3dyYXAoZmFjZXRzID0gfiBzaG90c19jdXJyZW50KSArCiAgdGhlbWUoYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA5MCkpCmBgYAoKCldoYXQgaGFwcGVucyB3aGVuIHlvdSByZXBsYWNlIHRoZSBgc2NhbGVgIGFyZ3VtZW50IHdpdGggYCJmcmVlX3kiYD8KCmBgYHtyfQpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IG5hbWUpKSArIAogIGdlb21fYmFyKCkgKyAKICBmYWNldF93cmFwKGZhY2V0cyA9IH4gc2hvdHNfY3VycmVudCwgc2NhbGUgPSAiZnJlZV95IikgKwogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gOTApKQpgYGAKCiMjIyBXaGF0J3MgdXAgd2l0aCB0aGlzIGB+YCBpbiB0aGUgYGZhY2V0c2A/CgpUaGlzIGlzIGtub3duIGFzIGZvcm11bGEgbm90YXRpb24gYW5kIG1pZ2h0IG1ha2UgYSBsaXR0bGUgbW9yZSBzZW5zZSBpZiB3ZSBleHBsb3JlIGhvdyB0byBjcmVhdGUgYSBncmlkIG9mIHNtYWxsZXIgcGxvdHMgYWNyb3NzIHR3byBkaWZmZXJlbnQgdmFyaWFibGVzLiBOb3RlIHRoYXQgYGFuaW1hbGAgYXBwZWFycyBvbiB0aGUgdmVydGljYWwgYHlgIGF4aXMgYW5kIGBzaG90c19jdXJyZW50YCBnb2VzIG9uIHRoZSBob3Jpem9udGFsIGB4YCBheGlzLiBUaGlzIGlzIGhvdyB0byByZWFkIHRoaXMgYH5gIGluIG1vc3Qgc2V0dGluZ3MgaW4gUi4KCmBgYHtyfQpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IG5hbWUpKSArIAogIGdlb21fYmFyKCkgKyAKICBmYWNldF9ncmlkKGZhY2V0cyA9IGFuaW1hbCB+IHNob3RzX2N1cnJlbnQpICsKICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDkwKSkKYGBgCgoKIyMgU3RhY2tlZCBCYXJzCgpMZXQncyBzZWUgaG93IG1hbnkgb2YgZWFjaCBhbmltYWwgZ290IHNob3RzLiBXZSBjYW4gZG8gdGhpcyBieSBtYXBwaW5nIGBzaG90c19jdXJyZW50YCB0byBgZmlsbGAuIE5vdGUgdGhhdCB3ZSBjYW4gYWxzbyB1c2UgYGNvbG9yYCBoZXJlIHRvIHNwZWNpZnkgdGhlIGhpZ2hsaWdodGluZyBjb2xvciBvZiB0aGUgYmFycy4KCmBgYHtyfQojIFdlIG1hcCBjb2xvciAodGhlIG91dGxpbmUgb2YgdGhlIHBsb3QpIHRvIGJsYWNrIHRvIG1ha2UgaXQgbG9vayBwcmV0dGllcgojIE5vdGUgdGhhdCB3ZSBkb24ndCBpbmNsdWRlIGBhZXNgIGluIHRoZSBgY29sb3IgPSAiYmxhY2siYCBzaW5jZSB3ZSBhcmVuJ3QKIyBtYXBwaW5nIGFuIGFlc3RoZXRpYyB0byBhIHZhcmlhYmxlIGJ1dCByYXRoZXIganVzdCBjaGFuZ2luZyB0aGUgc2V0dGluZy4KZ2dwbG90KGRhdGEgPSBwZXRzLCBtYXBwaW5nID0gYWVzKHggPSBhbmltYWwsIGZpbGwgPSBzaG90c19jdXJyZW50KSkgKyAKICBnZW9tX2Jhcihjb2xvciA9ICJibGFjayIpCmBgYAoKIyMgUHJvcG9ydGlvbmFsIEJhcmNoYXJ0CgpXZSBtYXkgb25seSBiZSBpbnRlcmVzdGVkIGluIHRoZSByZWxhdGl2ZSBwcm9wb3J0aW9ucyBiZXR3ZWVuIHRoZSBkaWZmZXJlbnQgY2F0ZWdvcmllcy4gVmlzdWFsaXppbmcgdGhpcyBpcyB1c2VmdWwgZm9yIHZhcmlvdXMgMiB4IDIgdGVzdHMgb24gcHJvcG9ydGlvbnMuCgpXaGF0IHBlcmNlbnQgb2YgZG9ncyBkaWQgbm90IHJlY2VpdmUgc2hvdHM/CgpgYGB7cn0KZ2dwbG90KGRhdGEgPSBwZXRzLCBtYXBwaW5nID0gYWVzKHggPSBhbmltYWwsIGZpbGwgPSBzaG90c19jdXJyZW50KSkgKyAKICBnZW9tX2Jhcihwb3NpdGlvbiA9ICJmaWxsIiwgY29sb3IgPSAiYmxhY2siKQpgYGAKCiMjIERvZGdlIHRob3NlIGJhcnMhCgpJbnN0ZWFkIG9mIHN0YWNraW5nLCB3ZSBjYW4gYWxzbyBkb2RnZSB0aGUgYmFycyAobW92ZSB0aGUgYmFycyBzbyB0aGV5J3JlIGJlc2lkZSBlYWNoIG90aGVyKS4KCmBgYHtyfQpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IGFuaW1hbCwgZmlsbCA9IHNob3RzX2N1cnJlbnQpKSArIAogIGdlb21fYmFyKHBvc2l0aW9uID0gImRvZGdlIiwgY29sb3IgPSAiYmxhY2siKQpgYGAKCgojIyBEb2RnZSB0aG9zZSBiYXJzIQoKSW5zdGVhZCBvZiBzdGFja2luZywgd2UgY2FuIGFsc28gZG9kZ2UgdGhlIGJhcnMgKG1vdmUgdGhlIGJhcnMgc28gdGhleSdyZSBiZXNpZGUgZWFjaCBvdGhlcikuCgpgYGB7cn0KZ2dwbG90KGRhdGEgPSBwZXRzLCBtYXBwaW5nID0gYWVzKHggPSBhbmltYWwsIGZpbGwgPSBzaG90c19jdXJyZW50KSkgKyAKICBnZW9tX2Jhcihwb3NpdGlvbiA9ICJkb2RnZSIsIGNvbG9yID0gImJsYWNrIikKYGBgCgojIyBZb3VyIFRhc2s6IEJhciBDaGFydHMKCkdpdmVuIHRoZSBgcGV0c2AgYGRhdGEuZnJhbWVgLCBwbG90IGEgc3RhY2tlZCBwcm9wb3J0aW9uYWwgYmFyY2hhcnQgdGhhdCBzaG93cyBhZ2UgY2F0ZWdvcnkgYnkgc2hvdHMgYmVpbmcgY3VycmVudC4gSXMgdGhlIHByb3BvcnRpb24gb2YgYW5pbWFscyByZWNlaXZpbmcgc2hvdHMgdGhlIHNhbWUgYWNyb3NzIGVhY2ggYWdlIGNhdGVnb3J5PwoKSGludHM6IHRoaW5rIGFib3V0IHdoYXQgdG8gbWFwIHRvIGB4YCwgYW5kIHdoYXQgdG8gbWFwIHRvIGBmaWxsYC4KCmBgYHtyfQojIE9ORSBTT0xVVElPTgpnZ3Bsb3QoZGF0YSA9IHBldHMsIG1hcHBpbmcgPSBhZXMoeCA9IGFnZV9jYXRlZ29yeSwgZmlsbCA9IHNob3RzX2N1cnJlbnQpKSArCiAgZ2VvbV9iYXIocG9zaXRpb24gPSAiZmlsbCIsIGNvbG9yID0gImJsYWNrIikKYGBgCgpJbnRlcm1lZGlhdGUgRm9sa3M6IGZhY2V0IHRoaXMgcGxvdCBieSBgYW5pbWFsYC4gCgpgYGB7cn0KIyBJbnRlcm1lZGlhdGU6IFNwYWNlIGZvciB5b3VyIGFuc3dlciBoZXJlLgoKIyBPTkUgU09MVVRJT04KZ2dwbG90KGRhdGEgPSBwZXRzLCBtYXBwaW5nID0gYWVzKHggPSBhZ2VfY2F0ZWdvcnksIGZpbGwgPSBzaG90c19jdXJyZW50KSkgKwogIGdlb21fYmFyKHBvc2l0aW9uID0gImZpbGwiLCBjb2xvciA9ICJibGFjayIpICsKICBmYWNldF93cmFwKGZhY2V0cyA9IH4gYW5pbWFsKQpgYGAKCgojIyBCb3hwbG90cwoKQm94cGxvdHMgYWxsb3cgdXMgdG8gYXNzZXNzIGRpc3RyaWJ1dGlvbnMgb2YgYSBjb250aW51b3VzIHZhcmlhYmxlIGNvbmRpdGlvbmVkIG9uIGNhdGVnb3JpY2FsIHZhcmlhYmxlcy4KCldoYXQgZG9lcyB0aGlzIHRlbGwgdXM/IAoKYGBge3J9CmdncGxvdChkYXRhID0gcGV0cywgbWFwcGluZyA9IGFlcyh4ID0gc2hvdHNfY3VycmVudCwgeSA9IHdlaWdodCkpICsgCiAgZ2VvbV9ib3hwbG90KCkKYGBgCgojIyBWaW9saW4gUGxvdHMKClZpb2xpbiBwbG90cyBhcmUgYW5vdGhlciB1c2VmdWwgd2F5IHRvIHZpc3VhbGl6ZSB0aGUgZGF0YS4gVGhleSBwcm92aWRlIGEgbW9yZSBudWFuY2VkIGxvb2sgYXQgdGhlIGRhdGEuIFRoZXkncmUgYSBkZW5zaXR5IHBsb3QgdGhhdCdzIG1pcnJvcmVkIGFyb3VuZCB0aGUgeS1heGlzLgoKYGBge3J9CmdncGxvdChkYXRhID0gcGV0cywgCiAgICAgICBtYXBwaW5nID0gYWVzKHggPSBhZ2VfY2F0ZWdvcnksIHkgPSB3ZWlnaHQsIGZpbGwgPSBhZ2VfY2F0ZWdvcnkpKSArIAogIGdlb21fdmlvbGluKCkKYGBgCgojIyBZb3VyIHRhc2s6IEhvdyBoZWF2eSBhcmUgb3VyIHBldHM/CgpWaXN1YWxpemUgYHdlaWdodGAgYnkgYGFuaW1hbGAgdHlwZSBhcyBib3RoIGEgYm94cGxvdCBhbmQgYSB2aW9saW4gcGxvdC4gV2hhdCBkbyB5b3UgY29uY2x1ZGU/IFdoaWNoIGtpbmQgb2YgYW5pbWFsIHdlaWdocyBtb3JlIG9uIGF2ZXJhZ2UgdGhhbiB0aGUgb3RoZXI/CgpOb3RlIHRoYXQgdGhlIGhvcml6b250YWwgYXhpcyBuZWVkcyB0byBjb3JyZXNwb25kIHRvIHRoZSBjYXRlZ29yaWNhbCB2YXJpYWJsZSBhbmQgdGhlIHZlcnRpY2FsIGF4aXMgbmVlZHMgdG8gY29ycmVzcG9uZCB0byBhIG51bWVyaWMgdmFyaWFibGUuCgpgYGB7cn0KIyMgU3BhY2UgZm9yIHlvdXIgYW5zd2VyIGhlcmUKIyBPTkUgU09MVVRJT04KZ2dwbG90KGRhdGEgPSBwZXRzLCAKICAgICAgIG1hcHBpbmcgPSBhZXMoeCA9IGFuaW1hbCwgeSA9IHdlaWdodCkpICsgCiAgZ2VvbV9ib3hwbG90KCkKCmdncGxvdChkYXRhID0gcGV0cywgCiAgICAgICBtYXBwaW5nID0gYWVzKHggPSBhbmltYWwsIHkgPSB3ZWlnaHQpKSArIAogIGdlb21fdmlvbGluKCkKYGBgCgpJbnRlcm1lZGlhdGUgY2hhbGxlbmdlOiBIb3cgd291bGQgd2UgcGxvdCBib3RoIGJveHBsb3RzIGFuZCBhIHZpb2xpbiBwbG90IG9uIHRoZSBzYW1lIGdyYXBoPwoKYGBge3J9CiMjIEludGVybWVkaWF0ZTogU3BhY2UgZm9yIHlvdXIgYW5zd2VyIGhlcmUKCiMgT05FIFNPTFVUSU9OCmdncGxvdChkYXRhID0gcGV0cywgCiAgICAgICBtYXBwaW5nID0gYWVzKHggPSBhbmltYWwsIHkgPSB3ZWlnaHQpKSArIAogIGdlb21fYm94cGxvdChjb2xvciA9ICJibHVlIikgKwogIGdlb21fdmlvbGluKGFscGhhID0gMC4xKQpgYGAKCgojIyBXaGF0IHlvdSBsZWFybmVkIGluIHRoaXMgc2VjdGlvbgoKLSBWaXN1YWxpemluZyBmYWN0b3IgZGF0YQotIFNpbXBsZSwgc3RhY2tlZCwgc3RhY2tlZCBwcm9wb3J0aW9uYWwsIGFuZCBkb2RnZWQgYmFycGxvdHMgCi0gRmFjZXRpbmcgYSBncmFwaAotIEJveHBsb3RzIGFuZCB2aW9saW4gcGxvdHM=</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
